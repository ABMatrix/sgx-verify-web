"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(o)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const c="undefined"!=typeof window;let u=c?()=>window.performance.now():()=>Date.now(),d=c?t=>requestAnimationFrame(t):t;const f=new Set;function p(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&d(p)}function h(t){let e;return 0===f.size&&d(p),{promise:new Promise((n=>{f.add(e={c:t,f:n})})),abort(){f.delete(e)}}}function m(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function $(){return E(" ")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}const C=new Set;let A,R=0;function _(t,e,n,o,r,s,i,l=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*s(t);c+=100*t+`%{${i(o,1-o)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,f=t.ownerDocument;C.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(y("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${r}ms 1 both`,R+=1,d}function T(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),R-=r,R||d((()=>{R||(C.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),C.clear())})))}function M(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function P(t){A=t}const I=[],S=[],k=[],B=[],j=Promise.resolve();let L=!1;function O(t){k.push(t)}let N=!1;const D=new Set;function F(){if(!N){N=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];P(e),U(e.$$)}for(P(null),I.length=0;S.length;)S.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];D.has(e)||(D.add(e),e())}k.length=0}while(I.length);for(;B.length;)B.pop()();L=!1,N=!1,D.clear()}}function U(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}let H;function K(){return H||(H=Promise.resolve(),H.then((()=>{H=null}))),H}function Y(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const G=new Set;let q;function V(t,e){t&&t.i&&(G.delete(t),t.i(e))}function z(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),q.c.push((()=>{G.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const X={duration:0};function W(t,e){t.f(),function(t,e){z(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function Z(t){t&&t.c()}function J(t,e,n,r){const{fragment:l,on_mount:a,on_destroy:c,after_update:u}=t.$$;l&&l.m(e,n),r||O((()=>{const e=a.map(o).filter(i);c?c.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(O)}function Q(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(I.push(t),L||(L=!0,j.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,n,o,i,l,a,c=[-1]){const u=A;P(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:r(),dirty:c,skip_bound:!1};let f=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),f&&tt(e,t)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(b)}else d.fragment&&d.fragment.c();n.intro&&V(e.$$.fragment),J(e,n.target,n.anchor,n.customElement),F()}P(u)}class nt{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class ot extends nt{constructor(t){super(),et(this,t,null,null,l,{})}}function rt(t){const e=t-1;return e*e*e+1}function st(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function it(t,{delay:e=0,duration:n=400,easing:o=rt,x:r=0,y:s=0,opacity:i=0}={}){const l=getComputedStyle(t),a=+l.opacity,c="none"===l.transform?"":l.transform,u=a*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${a-u*e}`}}function lt(t,e,n={}){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform,s=e.from.width/t.clientWidth,l=e.from.height/t.clientHeight,a=(e.from.left-e.to.left)/s,c=(e.from.top-e.to.top)/l,u=Math.sqrt(a*a+c*c),{delay:d=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=rt}=n;return{delay:d,duration:i(f)?f(u):f,easing:p,css:(t,e)=>`transform: ${r} translate(${e*a}px, ${e*c}px);`}}const at=[];function ct(e,n=t){let o;const r=[];function s(t){if(l(e,t)&&(e=t,o)){const t=!at.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),at.push(n,e)}if(t){for(let t=0;t<at.length;t+=2)at[t][0](at[t+1]);at.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,l=t){const a=[i,l];return r.push(a),1===r.length&&(o=n(s)||t),i(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const ut=(()=>{const{subscribe:t,update:e}=ct([]);let n=0,o={};return{subscribe:t,push:(t,r={})=>{const s={id:++n,msg:t,...o,...r,theme:{...o.theme,...r.theme}};return e((t=>s.reversed?[...t,s]:[s,...t])),n},pop:t=>{e((e=>t?e.filter((e=>e.id!==t)):e.splice(1)))},set:(t,n)=>{e((e=>{const o=e.findIndex((e=>e.id===t));return o>-1&&(e[o]={...e[o],...n}),e}))},_opts:(t={})=>(o={...o,...t,theme:{...o.theme,...t.theme}},o)}})();function dt(t){return"[object Date]"===Object.prototype.toString.call(t)}function ft(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>ft(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(dt(t)&&dt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),o={};return n.forEach((n=>{o[n]=ft(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=o[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function pt(e){let n,o,r;return{c(){n=y("div"),n.textContent="✕",v(n,"class","_toastBtn"),v(n,"role","button"),v(n,"tabindex","-1")},m(t,s){g(t,n,s),o||(r=x(n,"click",e[4]),o=!0)},p:t,d(t){t&&b(n),o=!1,r()}}}function ht(e){let n,o,r,s,i,l=e[0].msg+"",a=e[0].dismissable&&pt(e);return{c(){n=y("div"),o=y("div"),r=$(),a&&a.c(),s=$(),i=y("progress"),v(o,"class","_toastMsg"),v(i,"class","_toastBar"),i.value=e[1],v(n,"class","_toastItem")},m(t,e){g(t,n,e),m(n,o),o.innerHTML=l,m(n,r),a&&a.m(n,null),m(n,s),m(n,i)},p(t,[e]){1&e&&l!==(l=t[0].msg+"")&&(o.innerHTML=l),t[0].dismissable?a?a.p(t,e):(a=pt(t),a.c(),a.m(n,s)):a&&(a.d(1),a=null),2&e&&(i.value=t[1])},i:t,o:t,d(t){t&&b(n),a&&a.d()}}}function mt(t,o,r){let s,{item:i}=o;const l=function(t,o={}){const r=ct(t);let s,i=t;function l(l,a){if(null==t)return r.set(t=l),Promise.resolve();i=l;let c=s,d=!1,{delay:f=0,duration:p=400,easing:m=e,interpolate:g=ft}=n(n({},o),a);if(0===p)return c&&(c.abort(),c=null),r.set(t=i),Promise.resolve();const b=u()+f;let y;return s=h((e=>{if(e<b)return!0;d||(y=g(t,l),"function"==typeof p&&(p=p(t,l)),d=!0),c&&(c.abort(),c=null);const n=e-b;return n>p?(r.set(t=l),!1):(r.set(t=y(m(n/p))),!0)})),s.promise}return{set:l,update:(e,n)=>l(e(i,t),n),subscribe:r.subscribe}}(i.initial,{duration:i.duration,easing:e});a(t,l,(t=>r(1,s=t)));let c=i.initial;return t.$$set=t=>{"item"in t&&r(0,i=t.item)},t.$$.update=()=>{9&t.$$.dirty&&c!==i.progress&&(1===i.progress||0===i.progress?l.set(i.progress).then((()=>ut.pop(i.id))):l.set(i.progress),r(3,c=i.progress))},[i,s,l,c,()=>ut.pop(i.id)]}class gt extends nt{constructor(t){super(),et(this,t,mt,ht,l,{item:0})}}function bt(t,e,n){const o=t.slice();return o[4]=e[n],o}function yt(n,o){let r,l,a,c,d,f,p,E,x=t;return l=new gt({props:{item:o[4]}}),{key:n,first:null,c(){r=y("li"),Z(l.$$.fragment),a=$(),v(r,"style",c=o[1](o[4].theme)),this.first=r},m(t,e){g(t,r,e),J(l,r,null),m(r,a),E=!0},p(t,e){o=t;const n={};1&e&&(n.item=o[4]),l.$set(n),(!E||1&e&&c!==(c=o[1](o[4].theme)))&&v(r,"style",c)},r(){p=r.getBoundingClientRect()},f(){!function(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,M(t,r)}}(r),x(),M(r,p)},a(){x(),x=function(n,o,r,s){if(!o)return t;const i=n.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:l=0,duration:a=300,easing:c=e,start:d=u()+l,end:f=d+a,tick:p=t,css:m}=r(n,{from:o,to:i},s);let g,b=!0,y=!1;function E(){m&&T(n,g),b=!1}return h((t=>{if(!y&&t>=d&&(y=!0),y&&t>=f&&(p(1,0),E()),!b)return!1;if(y){const e=0+1*c((t-d)/a);p(e,1-e)}return!0})),m&&(g=_(n,0,1,a,l,c,m)),l||(y=!0),p(0,1),E}(r,p,lt,{duration:200})},i(n){E||(V(l.$$.fragment,n),O((()=>{f&&f.end(1),d||(d=function(n,o,r){let s,l,a=o(n,r),c=!1,d=0;function f(){s&&T(n,s)}function p(){const{delay:o=0,duration:r=300,easing:i=e,tick:p=t,css:m}=a||X;m&&(s=_(n,0,1,r,o,i,m,d++)),p(0,1);const g=u()+o,b=g+r;l&&l.abort(),c=!0,O((()=>Y(n,!0,"start"))),l=h((t=>{if(c){if(t>=b)return p(1,0),Y(n,!0,"end"),f(),c=!1;if(t>=g){const e=i((t-g)/r);p(e,1-e)}}return c}))}let m=!1;return{start(){m||(T(n),i(a)?(a=a(),K().then(p)):p())},invalidate(){m=!1},end(){c&&(f(),c=!1)}}}(r,it,o[4].intro)),d.start()})),E=!0)},o(n){z(l.$$.fragment,n),d&&d.invalidate(),f=function(n,o,r){let l,a=o(n,r),c=!0;const d=q;function f(){const{delay:o=0,duration:r=300,easing:i=e,tick:f=t,css:p}=a||X;p&&(l=_(n,1,0,r,o,i,p));const m=u()+o,g=m+r;O((()=>Y(n,!1,"start"))),h((t=>{if(c){if(t>=g)return f(0,1),Y(n,!1,"end"),--d.r||s(d.c),!1;if(t>=m){const e=i((t-m)/r);f(1-e,e)}}return c}))}return d.r+=1,i(a)?K().then((()=>{a=a(),f()})):f(),{end(t){t&&a.tick&&a.tick(1,0),c&&(l&&T(n,l),c=!1)}}}(r,st,{}),E=!1},d(t){t&&b(r),Q(l),t&&f&&f.end()}}}function Et(t){let e,n,o=[],r=new Map,i=t[0];const l=t=>t[4].id;for(let e=0;e<i.length;e+=1){let n=bt(t,i,e),s=l(n);r.set(s,o[e]=yt(s,n))}return{c(){e=y("ul");for(let t=0;t<o.length;t+=1)o[t].c();v(e,"class","svelte-11xvyw3")},m(t,r){g(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(3&n){i=t[0],q={r:0,c:[],p:q};for(let t=0;t<o.length;t+=1)o[t].r();o=function(t,e,n,o,r,s,i,l,a,c,u,d){let f=t.length,p=s.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],b=new Map,y=new Map;for(h=p;h--;){const t=d(r,s,h),l=n(t);let a=i.get(l);a?o&&a.p(t,e):(a=c(l,t),a.c()),b.set(l,g[h]=a),l in m&&y.set(l,Math.abs(h-m[l]))}const E=new Set,$=new Set;function x(t){V(t,1),t.m(l,u),i.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,p--):b.has(r)?!i.has(o)||E.has(o)?x(e):$.has(r)?f--:y.get(o)>y.get(r)?($.add(o),x(e)):(E.add(r),f--):(a(n,i),f--)}for(;f--;){const e=t[f];b.has(e.key)||a(e,i)}for(;p;)x(g[p-1]);return g}(o,n,l,1,t,i,r,e,W,yt,null,bt);for(let t=0;t<o.length;t+=1)o[t].a();q.r||s(q.c),q=q.p}},i(t){if(!n){for(let t=0;t<i.length;t+=1)V(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)z(o[t]);n=!1},d(t){t&&b(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function $t(t,e,n){let o;a(t,ut,(t=>n(0,o=t)));let{options:r={}}=e;ut._opts({duration:4e3,dismissable:!0,initial:1,progress:0,reversed:!1,intro:{x:256},theme:{}});return t.$$set=t=>{"options"in t&&n(2,r=t.options)},t.$$.update=()=>{4&t.$$.dirty&&ut._opts(r)},[o,t=>Object.keys(t).reduce(((e,n)=>`${e}${n}:${t[n]};`),""),r]}class xt extends nt{constructor(t){super(),et(this,t,$t,Et,l,{options:2})}}const vt=ct("manage"),wt=ct(!1);function Ct(e){let n,o,r,s,i,l,a,c,u;return{c(){n=y("div"),o=y("nav"),r=y("div"),s=y("div"),s.textContent="SGX 证书验证",i=$(),l=y("div"),a=y("div"),a.textContent="Github",v(s,"class","text-xl my-auto text-blue-600 font-medium"),v(a,"class","my-auto cursor-pointer hover:text-blue-400 font-mono active:underline text-blue-600"),v(l,"class","flex flex-row justify-items-center space-x-4 my-4"),v(r,"class","max-w-4xl mx-auto px-4 flex flex-row justify-between"),v(o,"class","h-full bg-white z-1000 backdrop-filter backdrop-blur-lg bg-opacity-40"),v(n,"class","shadow w-full fixed z-10")},m(t,d){g(t,n,d),m(n,o),m(o,r),m(r,s),m(r,i),m(r,l),m(l,a),c||(u=x(a,"click",e[0]),c=!0)},p:t,i:t,o:t,d(t){t&&b(n),c=!1,u()}}}function At(t){vt.subscribe((t=>t));return[()=>window.open("https://github.com/ABMatrix/sgx_client")]}class Rt extends nt{constructor(t){super(),et(this,t,At,Ct,l,{})}}function _t(t){const e=t.replace("-----BEGIN CERTIFICATE-----","").replace("-----END CERTIFICATE-----","");return[e.substring(0,100),e.substring(t.length-200)]}for(var Tt=function(t){var e,n,o=Lt(t),r=o[0],s=o[1],i=new St(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),l=0,a=s>0?r-4:r;for(n=0;n<a;n+=4)e=It[t.charCodeAt(n)]<<18|It[t.charCodeAt(n+1)]<<12|It[t.charCodeAt(n+2)]<<6|It[t.charCodeAt(n+3)],i[l++]=e>>16&255,i[l++]=e>>8&255,i[l++]=255&e;2===s&&(e=It[t.charCodeAt(n)]<<2|It[t.charCodeAt(n+1)]>>4,i[l++]=255&e);1===s&&(e=It[t.charCodeAt(n)]<<10|It[t.charCodeAt(n+1)]<<4|It[t.charCodeAt(n+2)]>>2,i[l++]=e>>8&255,i[l++]=255&e);return i},Mt=function(t){for(var e,n=t.length,o=n%3,r=[],s=16383,i=0,l=n-o;i<l;i+=s)r.push(Ot(t,i,i+s>l?l:i+s));1===o?(e=t[n-1],r.push(Pt[e>>2]+Pt[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],r.push(Pt[e>>10]+Pt[e>>4&63]+Pt[e<<2&63]+"="));return r.join("")},Pt=[],It=[],St="undefined"!=typeof Uint8Array?Uint8Array:Array,kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt=0,jt=kt.length;Bt<jt;++Bt)Pt[Bt]=kt[Bt],It[kt.charCodeAt(Bt)]=Bt;function Lt(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function Ot(t,e,n){for(var o,r,s=[],i=e;i<n;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),s.push(Pt[(r=o)>>18&63]+Pt[r>>12&63]+Pt[r>>6&63]+Pt[63&r]);return s.join("")}It["-".charCodeAt(0)]=62,It["_".charCodeAt(0)]=63;var Nt=Tt,Dt=Mt,Ft=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.PEMObject=e.PEMError=e.rfc7468CompliantPEMLabels=void 0,e.rfc7468CompliantPEMLabels=["X509 CERTIFICATE","CERTIFICATE","CERTIFICATE PAIR","TRUSTED CERTIFICATE","NEW CERTIFICATE REQUEST","CERTIFICATE REQUEST","X509 CRL","ANY PRIVATE KEY","PUBLIC KEY","RSA PRIVATE KEY","RSA PUBLIC KEY","DSA PRIVATE KEY","DSA PUBLIC KEY","PKCS7","PKCS #7 SIGNED DATA","ENCRYPTED PRIVATE KEY","PRIVATE KEY","DH PARAMETERS","SSL SESSION PARAMETERS","DSA PARAMETERS","ECDSA PUBLIC KEY","EC PARAMETERS","EC PRIVATE KEY","PARAMETERS","CMS","ATTRIBUTE CERTIFICATE"];class n extends Error{constructor(t){super(t)}}e.PEMError=n;class o{static preEncapsulationBoundaryRegex=/^-----BEGIN ([A-Z# ]*)-----$/m;static postEncapsulationBoundaryRegex=/^-----END ([A-Z# ]*)-----$/m;static base64LineRegex=/^[A-Za-z0-9\+/=]+\s*$/gm;static pemObjectRegex=new RegExp(o.preEncapsulationBoundaryRegex.source+"\r?\n(?:\\s*\r?\n)*((?:"+o.base64LineRegex.source+"\r?\n)*)?"+o.postEncapsulationBoundaryRegex.source,"m");static validateLabel(t){if(!t.match(/^[A-Z#0-9 ]*$/))throw new n("Malformed PEM label.");if(t.match(/\s\s/))throw new n("PEM label cannot contain consecutive spaces.");if(t.match(/--/))throw new n("PEM label cannot contain consecutive hyphen-minuses.");if(t.match(/^\s+/)||t.match(/\s+$/))throw new n("PEM label cannot begin or end with spaces.");if(t.match(/^\-+/)||t.match(/\-+$/))throw new n("PEM label cannot begin or end with hyphen-minuses.")}static parse(t){let e,n=0;const r=[];do{if(e=o.pemObjectRegex.exec(t.slice(n)),null===e)break;n+=e.index+1;const s=new o(e[1],e[2].replace(/\s+/gu,""));r.push(s)}while(n<t.length);return r}_label="";get label(){return o.validateLabel(this._label),this._label}set label(t){o.validateLabel(t),this._label=t}data=new Uint8Array(0);get hasRFC7468CompliantLabel(){return e.rfc7468CompliantPEMLabels.includes(this._label)}get preEncapsulationBoundary(){return`-----BEGIN ${this.label}-----`}get postEncapsulationBoundary(){return`-----END ${this.label}-----`}get encapsulatedTextPortion(){return(Dt(this.data).match(/.{1,64}/g)||[]).join("\n")}constructor(t,e){void 0!==t&&(this.label=t),void 0!==e&&(this.data="string"==typeof e?Nt(e):e)}decode(t){const e=t.trim().replace("\r","").split("\n");if(e.length<=2)throw new n("PEM is too small to be valid");if(0!==e[0].indexOf("-----BEGIN "))throw new n("PEM object did not start with '-----BEGIN '");if(!e[0].endsWith("-----"))throw new n("PEM object did not end with '-----'");const o=e[0].slice(11,e[0].length-5);if(0!==e[e.length-1].indexOf("-----END "))throw new n("Last line of PEM object did not start with '-----END '");if(!e[e.length-1].endsWith("-----"))throw new n("Last line of PEM object did not end with '-----'");if(o!==e[e.length-1].slice(9,e[e.length-1].length-5))throw new n("PEM object Pre-encapsulation Boundary label does not match Post-encapsulation Boundary label.");this.label=o;let r=1;for(;r<e.length-1&&e[r].match(/^\s*$/);)r++;e.slice(r,e.length-1).forEach((t=>{if(t.match(/^\s*$/))throw new n("Blank lines detected within PEM data")}));const s=e.slice(1,e.length-1).join("").replace(/\s+/g,"");this.data=Nt(s)}get encoded(){return this.preEncapsulationBoundary+"\n"+this.encapsulatedTextPortion+"\n"+this.postEncapsulationBoundary}}e.PEMObject=o}));function Ut(t){const e=new Ft.PEMObject;e.decode(t);var n;return wasmVerifyMraCert((n=e.data,[...new Uint8Array(n)].map((t=>t.toString(16).padStart(2,"0"))).join("")))}function Ht(t){let e,n,o,r,s,i,l,a,c,u,d,f,p=_t(t[2])[0]+"",h=_t(t[2])[1]+"";return{c(){e=y("div"),n=y("div"),n.textContent="-----BEGIN CERTIFICATE-----",o=$(),r=y("div"),s=E(p),i=$(),l=y("div"),l.textContent="------",a=$(),c=y("div"),u=E(h),d=$(),f=y("div"),f.textContent="-----END CERTIFICATE-----",v(e,"class","text-yellow-600 font-mono break-words border-dashed border-2 border-gray-400 py-4 p-2 md:p-4")},m(t,p){g(t,e,p),m(e,n),m(e,o),m(e,r),m(r,s),m(e,i),m(e,l),m(e,a),m(e,c),m(c,u),m(e,d),m(e,f)},p(t,e){4&e&&p!==(p=_t(t[2])[0]+"")&&w(s,p),4&e&&h!==(h=_t(t[2])[1]+"")&&w(u,h)},d(t){t&&b(e)}}}function Kt(t){let e,n,o,r,l,a,c,u;return{c(){e=y("div"),n=y("p"),n.innerHTML="<span>上传证书文件</span>",o=$(),r=y("input"),l=$(),a=y("button"),a.textContent="Upload a file",v(n,"class","mb-3 font-semibold text-gray-900 flex flex-wrap justify-center"),v(r,"id","hidden-input"),v(r,"type","file"),v(r,"class","hidden"),v(a,"id","button"),v(a,"class","mt-2 rounded-md px-3 py-1 bg-gray-200 hover:bg-gray-300 focus:shadow-outline focus:outline-none"),v(e,"class","border-dashed border-2 border-gray-400 py-12 flex flex-col justify-center items-center")},m(s,d){g(s,e,d),m(e,n),m(e,o),m(e,r),t[8](r),m(e,l),m(e,a),c||(u=[x(r,"change",t[5]),x(a,"click",(function(){i(t[0].click())&&t[0].click().apply(this,arguments)}))],c=!0)},p(e,n){t=e},d(n){n&&b(e),t[8](null),c=!1,s(u)}}}function Yt(t){let e,n,o;function r(t,e){return t[4]?qt:Gt}let s=r(t),i=s(t);return{c(){e=y("div"),i.c(),n=$(),o=y("div")},m(t,r){g(t,e,r),i.m(e,null),m(e,n),m(e,o)},p(t,o){s===(s=r(t))&&i?i.p(t,o):(i.d(1),i=s(t),i&&(i.c(),i.m(e,n)))},d(t){t&&b(e),i.d()}}}function Gt(t){let e,n,o,r;return{c(){e=y("div"),e.innerHTML='<span></span> \n                  <span class="text-lg">该证书非 SGX 证书 ☹</span>',n=$(),o=y("div"),r=E(t[3]),v(e,"class","py-4 text-red-600")},m(t,s){g(t,e,s),g(t,n,s),g(t,o,s),m(o,r)},p(t,e){8&e&&w(r,t[3])},d(t){t&&b(e),t&&b(n),t&&b(o)}}}function qt(t){let e,n,o,r,s,i,l,a,c,u,d,f,p,h,x,C,A,R,_,T,M,P,I,S,k,B,j,L,O,N,D,F=t[3].version+"",U=t[3].signType+"",H=t[3].quoteReportBody.mrEnclave+"",K=t[3].quoteReportBody.mrsigner+"",Y=t[3].quoteReportBody.reportData+"";return{c(){e=y("div"),e.innerHTML='<span></span> \n                  <span class="text-lg">该证书为 SGX 证书 🎉</span>',n=$(),o=y("ul"),r=y("li"),s=y("span"),s.textContent="Version:",i=$(),l=y("span"),a=E(F),c=$(),u=y("li"),d=y("span"),d.textContent="Sign type:",f=$(),p=E(U),h=$(),x=y("li"),C=y("span"),C.textContent="Mr Enclae:",A=$(),R=y("span"),_=E(H),T=$(),M=y("li"),P=y("span"),P.textContent="Mr Signer:",I=$(),S=y("span"),k=E(K),B=$(),j=y("li"),L=y("span"),L.textContent="Report data:",O=$(),N=y("span"),D=E(Y),v(e,"class","py-4 text-green-600"),v(s,"class","font-medium"),v(l,"class","font-mono"),v(d,"class","font-medium"),v(C,"class","font-medium"),v(R,"class","font-mono"),v(P,"class","font-medium"),v(S,"class","font-mono"),v(L,"class","font-medium"),v(N,"class","font-mono"),v(o,"class","list-disc list-inside break-words text-blue-600")},m(t,b){g(t,e,b),g(t,n,b),g(t,o,b),m(o,r),m(r,s),m(r,i),m(r,l),m(l,a),m(o,c),m(o,u),m(u,d),m(u,f),m(u,p),m(o,h),m(o,x),m(x,C),m(x,A),m(x,R),m(R,_),m(o,T),m(o,M),m(M,P),m(M,I),m(M,S),m(S,k),m(o,B),m(o,j),m(j,L),m(j,O),m(j,N),m(N,D)},p(t,e){8&e&&F!==(F=t[3].version+"")&&w(a,F),8&e&&U!==(U=t[3].signType+"")&&w(p,U),8&e&&H!==(H=t[3].quoteReportBody.mrEnclave+"")&&w(_,H),8&e&&K!==(K=t[3].quoteReportBody.mrsigner+"")&&w(k,K),8&e&&Y!==(Y=t[3].quoteReportBody.reportData+"")&&w(D,Y)},d(t){t&&b(e),t&&b(n),t&&b(o)}}}function Vt(t){let e,n,o,r,s;return{c(){e=y("button"),n=E("重新上传"),v(e,"type","button"),e.disabled=o=null==t[2],v(e,"class","rounded-md px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white w-40 h-10 ring-4 ring-opacity-50 ring-blue-300 focus:shadow-outline focus:outline-none")},m(o,i){g(o,e,i),m(e,n),r||(s=x(e,"click",t[7]),r=!0)},p(t,n){4&n&&o!==(o=null==t[2])&&(e.disabled=o)},d(t){t&&b(e),r=!1,s()}}}function zt(t){let e,n,o,r,s;return{c(){e=y("button"),n=E("点击验证"),v(e,"type","button"),e.disabled=o=null==t[2],v(e,"class","rounded-md px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white w-40 h-10 ring-4 ring-opacity-50 ring-blue-300 focus:shadow-outline focus:outline-none")},m(o,i){g(o,e,i),m(e,n),r||(s=x(e,"click",t[6]),r=!0)},p(t,n){4&n&&o!==(o=null==t[2])&&(e.disabled=o)},d(t){t&&b(e),r=!1,s()}}}function Xt(e){let n,o,r,s,i,l,a,c,u,d,f,p;function h(t,e){return null==t[2]?Kt:Ht}let E=h(e),x=E(e),w=!0===e[1]&&Yt(e);function C(t,e){return t[1]?Vt:zt}let A=C(e),R=A(e);return{c(){n=y("section"),o=y("div"),r=y("div"),s=y("div"),s.innerHTML='<div class="spinner"><div class="double-bounce1"></div> \n          <div class="double-bounce2"></div></div>',i=$(),l=y("div"),a=y("section"),x.c(),c=$(),w&&w.c(),u=$(),d=y("footer"),R.c(),f=$(),p=y("section"),p.innerHTML='<div class="text-blue-600 py-4">Made by ❤️ @safematrix</div>',v(s,"id","loading"),v(s,"class","mx-auto"),v(d,"class","flex justify-center px-8 pb-8 pt-8"),v(a,"class","h-full overflow-auto w-full flex flex-col p-4 md:p-8"),v(l,"id","upload"),v(l,"aria-label","File Upload Modal"),v(l,"class","hidden relative h-full flex flex-col "),v(l,"ondrop","dropHandler(event);"),v(l,"ondragover","dragOverHandler(event);"),v(l,"ondragleave","dragLeaveHandler(event);"),v(l,"ondragenter","dragEnterHandler(event);"),v(r,"class","w-full shadow-inner rounded-md bg-blue-100 p-4"),v(o,"class","flex flex-col space-y-4"),v(p,"class","py-8 "),v(n,"class","max-w-4xl mx-auto px-4 pt-24")},m(t,e){g(t,n,e),m(n,o),m(o,r),m(r,s),m(r,i),m(r,l),m(l,a),x.m(a,null),m(a,c),w&&w.m(a,null),m(a,u),m(a,d),R.m(d,null),m(n,f),m(n,p)},p(t,[e]){E===(E=h(t))&&x?x.p(t,e):(x.d(1),x=E(t),x&&(x.c(),x.m(a,c))),!0===t[1]?w?w.p(t,e):(w=Yt(t),w.c(),w.m(a,u)):w&&(w.d(1),w=null),A===(A=C(t))&&R?R.p(t,e):(R.d(1),R=A(t),R&&(R.c(),R.m(d,null)))},i:t,o:t,d(t){t&&b(n),x.d(),w&&w.d(),R.d()}}}function Wt(t,e,n){let o,r,s,i,l,a=!1;return[r,a,s,i,l,function(t){o=t.target.files[0],function(){if(o){const t=new FileReader;t.addEventListener("load",(t=>{(function(t){try{return(new Ft.PEMObject).decode(t),!0}catch(t){return!1}})(t.target.result)?n(2,s=t.target.result):(ut.push("证书文件不正确"),o=void 0)})),t.readAsText(o)}}()},async function(){let t=Ut(s);console.log(t);const e=JSON.parse(t);n(4,l="success"===e.result),n(3,i=l?JSON.parse(e.data):e.data),n(1,a=!0)},function(){n(1,a=!1),n(3,i=void 0),n(2,s=void 0),o=void 0},function(t){S[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Zt extends nt{constructor(t){super(),et(this,t,Wt,Xt,l,{})}}function Jt(e){let n,o,r,s,i;return o=new Rt({}),s=new Zt({}),{c(){n=y("div"),Z(o.$$.fragment),r=$(),Z(s.$$.fragment)},m(t,e){g(t,n,e),J(o,n,null),m(n,r),J(s,n,null),i=!0},p:t,i(t){i||(V(o.$$.fragment,t),V(s.$$.fragment,t),i=!0)},o(t){z(o.$$.fragment,t),z(s.$$.fragment,t),i=!1},d(t){t&&b(n),Q(o),Q(s)}}}function Qt(t){return vt.subscribe((t=>t)),[]}class te extends nt{constructor(t){super(),et(this,t,Qt,Jt,l,{})}}function ee(e){let n,o,r,s,i,l,a;return n=new ot({}),r=new xt({props:{options:e[0]}}),l=new te({}),{c(){Z(n.$$.fragment),o=$(),Z(r.$$.fragment),s=$(),i=y("div"),Z(l.$$.fragment)},m(t,e){J(n,t,e),g(t,o,e),J(r,t,e),g(t,s,e),g(t,i,e),J(l,i,null),a=!0},p:t,i(t){a||(V(n.$$.fragment,t),V(r.$$.fragment,t),V(l.$$.fragment,t),a=!0)},o(t){z(n.$$.fragment,t),z(r.$$.fragment,t),z(l.$$.fragment,t),a=!1},d(t){Q(n,t),t&&b(o),Q(r,t),t&&b(s),t&&b(i),Q(l)}}}function ne(t){wt.subscribe((t=>t));return[{duration:5e3,dismissable:!0,initial:1,progress:0,reversed:!0,intro:{x:256}}]}const oe=new class extends nt{constructor(t){super(),et(this,t,ne,ee,l,{})}}({target:document.body});module.exports=oe;
//# sourceMappingURL=bundle.js.map
